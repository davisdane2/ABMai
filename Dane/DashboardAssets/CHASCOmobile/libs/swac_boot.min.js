/* Version 1.0.0, copyright (C) 2015, Siemens AG. All Rights Reserved. */
var SWACBoot=SWACBoot||function(){var a="pending",b=-1,c=window.parent,d=null,e=null,f=function(){window.clearTimeout(b),window.removeEventListener?window.removeEventListener("message",d):window.detachEvent("onmessage",d)},g=function(a){return JSON.stringify({t:"boot",c:a})},h=function(b,d,h){var i,j,k,l={},m="";"waiting"===a||"ok"===a?(l=JSON.parse(b.data),j=function(){a="failed",f(),h({message:"Failed to load SWAC library"}),c.postMessage(g({message:"failed"}),"*")},"boot"===l.t&&"pong"===l.c.message?(k=function(){SWAC.isContainer=!1,a="ok",e=l.c,c.postMessage(g({message:"ok"}),"*")},"undefined"==typeof SWAC?void 0===l.c.url||null===l.c.url||""===l.c.url.replace(/^\s+|\s+$/g,"")?j():(m=document.createElement("script"),m.setAttribute("type","text/javascript"),m.setAttribute("src",l.c.url),i=function(){"undefined"!=typeof SWAC?k():j()},m.addEventListener?(m.addEventListener("error",j),m.addEventListener("load",i)):m.onreadystatechange=function(){("loaded"===this.readyState||"complete"===this.readyState)&&i()},a="upgrading",document.getElementsByTagName("head")[0].appendChild(m)):k()):"boot"===l.t&&"ok2"===l.c.message?(a="done",f(),d({message:"SWAC successfully loaded",type:e.type,name:e.name,auth:e.authentication})):"boot"===l.t&&"peng"===l.c.message&&(f(),h({message:l.c.reason}))):f()},i=function(e,i,j,k,l){j=j||"*",l=l||1e3,i=i||function(){},k=k||"no",c===self?(a="failed",window.setTimeout(function(){i({message:"Component is not embedded into an iframe"})},0)):(d=function(a){h(a,e,i)},a="waiting",window.addEventListener?window.addEventListener("message",d,!1):window.attachEvent("onmessage",d),b=window.setTimeout(function(){"done"!==a&&(a="timedout",f(),i({message:"Bootload sequence timed out"}))},l),c.postMessage(g({message:"ping",version:j,authentication:k}),"*"))};return{start:i}}();